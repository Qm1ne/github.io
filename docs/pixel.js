(function(){"use strict";(function(r,o){const a={endpoint:"https://pixel-tracking-7ohl.onrender.com/",id_cookie_name:"utm_uuid"};function l(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)})}function x(){let e=localStorage.getItem(a.id_cookie_name);return e||(e=l(),localStorage.setItem(a.id_cookie_name,e)),e}function i(e,t={}){const n={event_type:e,anonymous_id:x(),page_url:r.location.href,referrer:o.referrer,timestamp:new Date().toISOString(),...t};if(navigator.sendBeacon){const d=new Blob([JSON.stringify(n)],{type:"application/json"});navigator.sendBeacon(a.endpoint,d)}else console.warn("sendBeacon not supported")}i("pageview"),o.addEventListener("click",function(e){const t=e.target.closest("a, button, [data-track]");if(t){const n={text:t.innerText||t.value,href:t.href,id:t.id,class:t.className};i("click",{metadata:n})}});let s=0,c;r.addEventListener("scroll",function(){c||(c=setTimeout(function(){const e=o.documentElement.scrollHeight-o.documentElement.clientHeight,t=o.documentElement.scrollTop,n=Math.round(t/e*100);n>s&&n%25===0&&(s=n,i("scroll",{metadata:{depth:n}})),c=null},500))}),o.addEventListener("submit",function(e){const t=e.target;i("submit",{metadata:{form_id:t.id,form_action:t.action,method:t.method}})}),r.Pixel={track:i,init:e=>Object.assign(a,e)}})(window,document)})();
